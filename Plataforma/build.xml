<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- WARNING: Eclipse auto-generated file.
              Any modifications will be overwritten.
              To include a user specific buildfile here, simply create one in the same
              directory with the processing instruction <?eclipse.ant.import?>
              as the first entry and export the buildfile again. -->
<project basedir="." default="runAll" name="Platform">
	<property environment="env" />
	<property name="build-dir" location="build" />
	<property name="classes-dir" value="${build-dir}/classes" />
	<property name="dist-dir" location="dist" />
	<property name="tmp.dir" location="tmp" />
	<property name="lib-dir" value="lib" />
	<property name="jar.dir" value="${build-dir}/jar" />
	<property name="main-class" value="android.HelloServer" />
	<property name="debuglevel" value="source,lines,vars" />
	<property name="target" value="1.7" />
	<property name="source" value="1.7" />
	<path id="JUnit 4.libraryclasspath">
		<pathelement location="/Users/Gointegro/Documents/Libs/junit-4.11.jar" />
		<pathelement location="/Users/Gointegro/Documents/Libs/hamcrest-core-1.3.jar" />
	</path>
	<path id="Platform.classpath">
		<pathelement location="bin" />
		<fileset dir="/Users/Gointegro/Documents/Libs">
		        <include name="**/*.jar"/>
		</fileset>
		<path refid="JUnit 4.libraryclasspath" />
	</path>
	
	<taskdef resource="testngtasks" classpath="/Users/Gointegro/Documents/Libs/testng-6.8.5.jar" />

	<target name="all" depends="Galery, Celebration, Content, News, 
		Social, Widgets, Workspace, Collaborators, BOPlatform, BOBenefits" />

	<target name="init">
		<mkdir dir="bin" />
		<copy includeemptydirs="false" todir="bin">
			<fileset dir="test">
				<exclude name="**/*.java" />
			</fileset>
		</copy>
	</target>

	<target name="clean">
		<delete dir="bin" />
	</target>

	<target name="compile" depends="init">
		<javac source="1.7" srcdir="test" fork="true" destdir="bin" encoding="iso-8859-1">
			<classpath>
				<pathelement path="bin">
				</pathelement>
				<path refid="Platform.classpath" />
				<path location="${jar.dir}/${ant.project.name}.jar" />
			</classpath>
		</javac>
	</target>

	<target name="runAll" depends="compile"> 
		<testng classpathref="Platform.classpath" suitename="suite1"> 
			<xmlfileset dir="${basedir}" includes="testng.xml"/> 
		</testng> 
	</target> 

	<target name="run-single-test" depends="compile"
                description="run a specific test. Requires class.name property set to fully qualified name of test class and test.name property set to method name">
        <condition property="propsSpecified">
        <and>
                <isset property="class.name" />
                <isset property="test.name" />
        </and>
        </condition>
        <fail unless="propsSpecified" 
            message="class.name and/or test.name property not specified."/>
        <copy todir="${tmp.dir}" file="singletest.xml" overwrite="true">
        <filterset>
                 <filter token="CLASS" value="${class.name}"/>
                 <filter token="TEST" value="${test.name}"/>
        </filterset>
        </copy>
           <testng classpathref="Platform.classpath"
                   outputDir="${results.dir}/${DSTAMP}.${TSTAMP}-single-test-${class.name}-${test.name}"
                   workingDir="${results.dir}/${DSTAMP}.${TSTAMP}-single-test-${class.name}-${test.name}"
                   verbose="2">
              <xmlfileset dir="${tmp.dir}" includes="singletest.xml" />
              <jvmarg value="-Xmx1024m"/>
           </testng>
        </target>

	
	<target name="run-class" depends="compile"
	        description="run all methods in a specific test class. Requires class.name property to be set to fully qualified name of class">
	   <condition property="classNameSpecified">
	      <isset property="class.name" />
	   </condition>
	   <fail unless="classNameSpecified"
	         message="class.name property not specified. Don't know which test class to run."/>
	   <copy todir="${tmp.dir}" file="singleclass.xml" overwrite="true">
	      <filterset>
	         <filter token="CLASS" value="${class.name}"/>
	      </filterset>
	   </copy>
	   <testng classpathref="Platform.classpath"
	           outputDir="${tmp.dir}/${DSTAMP}.${TSTAMP}-class"
	           workingDir="${tmp.dir}/${DSTAMP}.${TSTAMP}-class"
	   		   verbose="2">
	      <jvmarg value="-Xmx1024m"/>
	      <xmlfileset dir="${tmp.dir}" includes="singleclass.xml" />
	   </testng>
	</target>
	
	<target name="Galery" depends="compile">
		<delete dir="report/reportGalery" />
		<mkdir dir="report/reportGalery" />
		<mkdir dir="report/reportGalery/xml" />
		<junit printsummary="yes" haltonfailure="no" fork="yes">
			<classpath>
				<pathelement location="bin" />
				<path refid="Platform.classpath" />
				<path location="${jar.dir}/${ant.project.name}.jar" />
			</classpath>

			<test name="com.gointegro.Tests.Galery.AllTestsGalery" haltonfailure="no" todir="report/reportGalery/xml" outfile="TEST-result">
				<formatter type="xml" />
			</test>
		</junit>
		<junitreport todir="report/reportGalery">
			<fileset dir="report/reportGalery/xml">
				<include name="TEST*.xml" />
			</fileset>
			<report format="frames" todir="report/reportGalery/html" />
		</junitreport>
	</target>

	<target name="Celebration">
		<delete dir="report/reportCelebration" />
		<mkdir dir="report/reportCelebration" />
		<mkdir dir="report/reportCelebration/xml" />
		<junit printsummary="yes" haltonfailure="no" fork="yes">
			<classpath>
				<pathelement location="bin" />
				<path refid="Platform.classpath" />
				<path location="${jar.dir}/${ant.project.name}.jar" />
			</classpath>

			<test name="com.gointegro.Tests.Celebration.AllTestsCelebration" haltonfailure="no" todir="report/reportCelebration/xml" outfile="TEST-result">
				<formatter type="xml" />
			</test>
		</junit>
		<junitreport todir="report/reportCelebration">
			<fileset dir="report/reportCelebration/xml">
				<include name="TEST*.xml" />
			</fileset>
			<report format="frames" todir="report/reportCelebration/html" />
		</junitreport>
	</target>

	<target name="Content">
		<delete dir="report/reportContent" />
		<mkdir dir="report/reportContent" />
		<mkdir dir="report/reportContent/xml" />
		<junit printsummary="yes" haltonfailure="no" fork="yes">
			<classpath>
				<pathelement location="bin" />
				<path refid="Platform.classpath" />
				<path location="${jar.dir}/${ant.project.name}.jar" />
			</classpath>

			<test name="com.gointegro.Tests.Content.AllTestsContent" haltonfailure="no" todir="report/reportContent/xml" outfile="TEST-result">
				<formatter type="xml" />
			</test>
		</junit>
		<junitreport todir="report/reportContent">
			<fileset dir="report/reportContent/xml">
				<include name="TEST*.xml" />
			</fileset>
			<report format="frames" todir="report/reportContent/html" />
		</junitreport>
	</target>

	<target name="News">
		<delete dir="report/reportNews" />
		<mkdir dir="report/reportNews" />
		<mkdir dir="report/reportNews/xml" />
		<junit printsummary="yes" haltonfailure="no" fork="yes">
			<classpath>
				<pathelement location="bin" />
				<path refid="Platform.classpath" />
				<path location="${jar.dir}/${ant.project.name}.jar" />
			</classpath>

			<test name="com.gointegro.Tests.News.AllTestsNews" haltonfailure="no" todir="report/reportNews/xml" outfile="TEST-result">
				<formatter type="xml" />
			</test>
		</junit>
		<junitreport todir="report/reportNews">
			<fileset dir="report/reportNews/xml">
				<include name="TEST*.xml" />
			</fileset>
			<report format="frames" todir="report/reportNews/html" />
		</junitreport>
	</target>

	<target name="Social">
		<delete dir="report/reportSocial" />
		<mkdir dir="report/reportSocial" />
		<mkdir dir="report/reportSocial/xml" />
		<junit printsummary="yes" haltonfailure="no" fork="yes">
			<classpath>
				<pathelement location="bin" />
				<path refid="Platform.classpath" />
				<path location="${jar.dir}/${ant.project.name}.jar" />
			</classpath>

			<test name="com.gointegro.Tests.Social.AllTests" haltonfailure="no" todir="report/reportSocial/xml" outfile="TEST-result">
				<formatter type="xml" />
			</test>
		</junit>
		<junitreport todir="report/reportSocial">
			<fileset dir="report/reportSocial/xml">
				<include name="TEST*.xml" />
			</fileset>
			<report format="frames" todir="report/reportSocial/html" />
		</junitreport>
	</target>

	<target name="Widgets">
		<delete dir="report/reportWidgets" />
		<mkdir dir="report/reportWidgets" />
		<mkdir dir="report/reportWidgets/xml" />
		<junit printsummary="yes" haltonfailure="no" fork="yes">
			<classpath>
				<pathelement location="bin" />
				<path refid="Platform.classpath" />
				<path location="${jar.dir}/${ant.project.name}.jar" />
			</classpath>

			<test name="com.gointegro.Tests.Widgets.AllTestsWidgets" haltonfailure="no" todir="report/reportWidgets/xml" outfile="TEST-result">
				<formatter type="xml" />
			</test>
		</junit>
		<junitreport todir="report/reportWidgets">
			<fileset dir="report/reportWidgets/xml">
				<include name="TEST*.xml" />
			</fileset>
			<report format="frames" todir="report/reportWidgets/html" />
		</junitreport>
	</target>
	
	<target name="Workspace">
		<delete dir="report/reportWorkspace" />
		<mkdir dir="report/reportWorkspace" />
		<mkdir dir="report/reportWorkspace/xml" />
		<junit printsummary="yes" haltonfailure="no" fork="yes">
			<classpath>
				<pathelement location="bin" />
				<path refid="Platform.classpath" />
				<path location="${jar.dir}/${ant.project.name}.jar" />
			</classpath>

			<test name="com.gointegro.Tests.Workspace.AllTestsWorkspace" haltonfailure="no" todir="report/reportWorkspace/xml" outfile="TEST-result">
				<formatter type="xml" />
			</test>
		</junit>
		<junitreport todir="report/reportWorkspace">
			<fileset dir="report/reportWorkspace/xml">
				<include name="TEST*.xml" />
			</fileset>
			<report format="frames" todir="report/reportWorkspace/html" />
		</junitreport>
	</target>
	
	<target name="Profile">
		<delete dir="report/reportProfile" />
		<mkdir dir="report/reportProfile" />
		<mkdir dir="report/reportProfile/xml" />
		<junit printsummary="yes" haltonfailure="no" fork="yes">
			<classpath>
				<pathelement location="bin" />
				<path refid="Platform.classpath" />
				<path location="${jar.dir}/${ant.project.name}.jar" />
			</classpath>

			<test name="com.gointegro.Tests.Profile.AllTestsProfile" haltonfailure="no" todir="report/reportProfile/xml" outfile="TEST-result">
				<formatter type="xml" />
			</test>
		</junit>
		<junitreport todir="report/reportProfile">
			<fileset dir="report/reportProfile/xml">
				<include name="TEST*.xml" />
			</fileset>
			<report format="frames" todir="report/reportProfile/html" />
		</junitreport>
	</target>
	
	<target name="Collaborators">
		<delete dir="report/reportCollaborators" />
		<mkdir dir="report/reportCollaborators" />
		<mkdir dir="report/reportCollaborators/xml" />
		<junit printsummary="yes" haltonfailure="no" fork="yes">
			<classpath>
				<pathelement location="bin" />
				<path refid="Platform.classpath" />
				<path location="${jar.dir}/${ant.project.name}.jar" />
			</classpath>

			<test name="com.gointegro.Tests.Collaborators.AllTestsCollaborators" haltonfailure="no" todir="report/reportCollaborators/xml" outfile="TEST-result">
				<formatter type="xml" />
			</test>
		</junit>
		<junitreport todir="report/reportCollaborators">
			<fileset dir="report/reportCollaborators/xml">
				<include name="TEST*.xml" />
			</fileset>
			<report format="frames" todir="report/reportCollaborators/html" />
		</junitreport>
	</target>
	
	<target name="BOPlatform">
		<delete dir="report/reportBOPlatform" />
		<mkdir dir="report/reportBOPlatform" />
		<mkdir dir="report/reportBOPlatform/xml" />
		<junit printsummary="yes" haltonfailure="no" fork="yes">
			<classpath>
				<pathelement location="bin" />
				<path refid="Platform.classpath" />
				<path location="${jar.dir}/${ant.project.name}.jar" />
			</classpath>

			<test name="com.gointegro.Tests.Backoffice.Platform.AllTestsBackofficePlatform" haltonfailure="no" todir="report/reportBOPlatform/xml" outfile="TEST-result">
				<formatter type="xml" />
			</test>
		</junit>
		<junitreport todir="report/reportBOPlatform">
			<fileset dir="report/reportBOPlatform/xml">
				<include name="TEST*.xml" />
			</fileset>
			<report format="frames" todir="report/reportBOPlatform/html" />
		</junitreport>
	</target>
	
	<target name="BOBenefits">
		<delete dir="report/reportBOBenefits" />
		<mkdir dir="report/reportBOBenefits" />
		<mkdir dir="report/reportBOBenefits/xml" />
		<junit printsummary="yes" haltonfailure="no" fork="yes">
			<classpath>
				<pathelement location="bin" />
				<path refid="Platform.classpath" />
				<path location="${jar.dir}/${ant.project.name}.jar" />
			</classpath>

			<test name="com.gointegro.Tests.Backoffice.Benefits.AllTestsBackOfficeBenefits" haltonfailure="no" todir="report/reportBOBenefits/xml" outfile="TEST-result">
				<formatter type="xml" />
			</test>
		</junit>
		<junitreport todir="report/reportBOBenefits">
			<fileset dir="report/reportBOBenefits/xml">
				<include name="TEST*.xml" />
			</fileset>
			<report format="frames" todir="report/reportBOBenefits/html" />
		</junitreport>
	</target>

</project>
